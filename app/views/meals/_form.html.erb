<h3>Meal form</h3>

<%= form_with(model: @meal, local: true) do |form| %>
  <% if @meal.errors.any? %>
    <div id="error_explanation">
      <h2><%= pluralize(@meal.errors.count, "error") %> prohibited this meal from being saved:</h2>

      <ul>
      <% @meal.errors.full_messages.each do |message| %>
        <li><%= message %></li>
      <% end %>
      </ul>
    </div>
  <% end %>

  <div class="form-group">
    <%= form.text_field :title, id: :meal_title, class: "form-control",
    placeholder: "Title", autofocus: true, autocomplete: "off" %>
  </div>

  <div class="form-group">
    <%= form.text_area :notes, id: :notes, rows: 5, class: "form-control",
    placeholder: "What did you eat?",
    autofocus: true %>
  </div>

  <div class="form-group row">
    <p class="col-sm-4 col-form-label">Mood</p>
  	<div class="col">
  		<%= form.select :mood_rating, 1..10 %>
  	</div>
  </div>

  <div class="form-group row">
    <p class="col-sm-4 col-form-label">Sleep Rating</p>
    <div class="col">
      <%= form.select :sleep_rating, 1..10 %>
    </div>
  </div>

  <div class="form-group row">
    <p class="col-sm-4 col-form-label">Time of day</p>
  	<div class="col">
  		<%= form.select :meal_time, ['breakfast', 'lunch', 'snack', 'dinner', 'late snack'] %>
  	</div>
  </div>

  <div class="form-group row">
    <p class="col-sm-4 col-form-label">Amount you drank in cups</p>
    <div class="col">
      <%= form.select :drink_volume, 1..10 %>
    </div>
  </div>


  <div class="form-group row">
    <p class="col-sm-4 col-form-label">Foods and Drinks</p>
    <div class="col">
      <%# form.collection_check_boxes :category_ids, Category.all, :id, :name do |cb| %>
        <%# cb.label(class: "checkbox_inline input_checkbox")
          cb.check_box(class: "checkbox mr-1 ml-3") + cb.text  %>
      <%# end %>
    </div>
  </div>

  <div class="form-group row">
    <p class="col-sm-4 col-form-label">Tags</p>
    <div class="col">
      <%# form.collection_check_boxes :tag_ids, Tag.all, :id, :name do |cb| %>
        <%# cb.label(class: "checkbox_inline input_checkbox")
          cb.check_box(class: "checkbox mr-1 ml-3") + cb.text  %>
      <%# end %>
    </div>
  </div>


  <div class="actions mt-5">
    <%= link_to 'Dashboard', dashboard_path %>
    <% if @meal.title %>
     | <%= link_to 'New', new_meal_path %> |
      <%= link_to 'View', @meal %> |
      <%# link_to 'Delete', meal_path(@meal), class: "danger" , method: :delete, data: {confirm: "Are you sure you want to delete the meal?"} %>
    <% end %>
    <%= form.submit 'Submit â†’', class: "btn btn-outline-dark float-right" %>
  </div>
<% end %>
